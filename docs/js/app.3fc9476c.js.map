{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?c317","webpack:///./src/App.vue","webpack:///../src/components/NumberSpinner.vue","webpack:///../src/composables/useEventListener.js","webpack:///../src/components/NumberSpinner.vue?7bae","webpack:///./src/App.vue?8ecf","webpack:///./src/main.js","webpack:///../src/components/NumberSpinner.vue?ff2a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","value1","value2","min","max","vertical","circular","value3","step","decimals","precision","value4","mainStyle","focusStyle","draggingStyle","editingStyle","fastStyle","slowStyle","cursor","value5","value7","value8","options","value9","format","addDollar","parse","removeDollar","value10","keyStep","keyStepSlow","keyStepFast","formatMinutesToTime","parseTimeToMinutes","ref","type","style","visibleValue","readonly","contenteditable","dragstartHandler","touchstartHandler","dragFocusHandler","dragBlurHandler","editFocusHandler","editBlurHandler","inputHandler","noop","useEventListener","args","target","event","listener","cleanup","stopWatch","watch","unref","el","addEventListener","removeEventListener","immediate","flush","stop","onBeforeUnmount","props","modelValue","Number","default","speed","Function","undefined","horizontal","Boolean","String","emits","setup","dispatch","emit","state","preciseValue","isTouchDevice","editElement","dragElement","dragFocussed","editFocussed","focussed","dragging","wasActiveOnClick","hasMoved","clickX","clickY","stepFactor","altPressed","ctrlPressed","shiftPressed","editing","htmlNode","htmlNodeOriginalCursor","defaultCursor","document","querySelector","updateValues","keepInRange","val","range","fac","Math","ceil","roundToPrecision","frac","round","parseFloat","dec","log10","toString","split","toFixed","updateFocussed","activeElement","startEditing","focus","select","stopEditing","stepValue","numSteps","addToValue","increment","ev","touches","clientX","clientY","dragmoveHandler","actX","actY","distX","distY","stepNum","abs","mouseupHandler","keydownHandler","preventDefault","keyupHandler","checkValue","isNaN","onWindowMouseMove","handler","onWindowMouseUp","__exports__","components","NumberSpinner","value6","value6input","value6change","value6editmode","value6lastkey","str","replace","trim","minutes","hours","floor","padStart","timeString","res","parseInt","render","createApp","App","mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,wBAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,W,8HCEI,eAAqC,UAAjC,gCAA4B,G,EAEhC,eAGI,U,eAHD,sFACgF,eAAU,SAAP,O,eAAO,wBAAoB,eAAgB,SAAb,a,eAAa,yD,KAIjI,eAAM,mB,GAEDyC,MAAM,O,GACJA,MAAM,e,iBAAc,sC,EAAkC,eAAM,mB,GAC5DA,MAAM,S,EAKb,eAAM,mB,GAEDA,MAAM,O,GACJA,MAAM,e,iBAAc,mH,EACuF,eAAM,mB,GAGjHA,MAAM,S,EAKb,eAAM,mB,GAEDA,MAAM,O,GACJA,MAAM,e,iBAAc,iD,EACqB,eAAM,mB,GAG/CA,MAAM,S,EAKb,eAAM,mB,GAEDA,MAAM,O,GACJA,MAAM,e,iBAAc,oC,EACQ,eAAM,mB,GAGlCA,MAAM,S,EAeb,eAAM,mB,GAEDA,MAAM,O,GACJA,MAAM,e,iBAAc,2C,EACe,eAAM,mB,GAGzCA,MAAM,S,EAKb,eAAM,mB,GAiDDA,MAAM,O,GACJA,MAAM,e,iBAAc,gE,EACoC,eAAM,mB,EACpC,eAAM,mB,GAahCA,MAAM,sB,EAgBb,eAAM,mB,GAEDA,MAAM,O,GACJA,MAAM,e,iBAAc,gD,EACoB,eAAM,mB,iBAAA,+F,EACyC,eAAM,mB,GAG7FA,MAAM,S,EAKb,eAAM,mB,GAEDA,MAAM,O,GACJA,MAAM,e,kBAAc,2E,GAC+C,eAAM,mB,IAEzEA,MAAM,S,GAKb,eAAM,mB,IAEDA,MAAM,O,IACJA,MAAM,e,kBAAc,4E,GACgD,eAAM,mB,IAE1EA,MAAM,S,GAeb,eAAM,mB,4FAzMR,eA0MO,aAzML,EAEA,EAKA,EAEA,eAKM,MALN,EAKM,CAJJ,eAAoG,MAApG,EAAoG,C,EAAzC,E,eAAM,oBAAiB,eAAG,EAAAC,QAAM,KAC3F,eAEM,MAFN,EAEM,CADJ,eAAmC,I,WAAV,EAAAA,O,qDAAA,EAAAA,OAAM,K,2BAInC,EAEA,eAQM,MARN,EAQM,CAPJ,eAGM,MAHN,EAGM,C,EAF0G,E,eAAM,qBACnG,eAAG,EAAAC,QAAM,KAE5B,eAEM,MAFN,EAEM,CADJ,eAAyF,I,WAAhE,EAAAA,O,qDAAA,EAAAA,OAAM,IAAGC,IAAK,EAAIC,IAAK,IAAMC,UAAU,EAAOC,UAAU,G,2BAIrF,EAEA,eAQM,MARN,EAQM,CAPJ,eAGM,MAHN,EAGM,C,EAFwC,E,eAAM,qBACjC,eAAG,EAAAC,QAAM,KAE5B,eAEM,MAFN,EAEM,CADJ,eAAoG,I,WAA3E,EAAAA,O,qDAAA,EAAAA,OAAM,IAAGJ,KAAM,EAAIC,IAAK,EAAII,KAAM,IAAOC,SAAU,EAAIC,UAAW,M,8CAI/F,EAEA,eAkBM,MAlBN,EAkBM,CAjBJ,eAGM,MAHN,EAGM,C,EAF2B,E,eAAM,qBACpB,eAAG,EAAAC,QAAM,KAE5B,eAYM,MAZN,EAYM,CAXJ,eAUE,I,WATS,EAAAA,O,qDAAA,EAAAA,OAAM,IACdH,KAAM,GACPI,UAAU,6CACVC,WAAW,aACXC,cAAc,oBACdC,aAAa,qCACbC,UAAU,aACVC,UAAU,aACVC,OAAO,W,2BAKb,EAEA,eAQM,MARN,EAQM,CAPJ,eAGM,MAHN,EAGM,C,EAFkC,E,eAAM,qBAC3B,eAAG,EAAAC,QAAM,KAE5B,eAEM,MAFN,EAEM,CADJ,eAA+G,I,WAAtF,EAAAA,O,qDAAA,EAAAA,OAAM,IAAGhB,IAAK,EAAIC,IAAK,EAAII,KAAM,KAAQC,SAAU,EAAGT,MAAM,yB,kCAIzF,EAiDA,eA8BM,MA9BN,EA8BM,CA7BJ,eAGM,MAHN,EAGM,C,EAFuD,E,eAAM,qBAChD,eAAG,EAAAoB,QAAM,GAAG,IAE/B,eAUM,YATJ,eAQS,UAPN,QAAK,Y,WAAqC,cAK5C,SAIH,eAEM,MAFN,EAEM,CADJ,eAAuE,I,WAA9C,EAAAA,O,qDAAA,EAAAA,OAAM,IAAGjB,IAAK,EAAIC,IAAK,GAAKE,UAAU,G,yBAEjE,eAUM,YATJ,eAQS,UAPN,QAAK,Y,WAAqC,cAK5C,WAML,EAEA,eASM,MATN,EASM,CARJ,eAIM,MAJN,EAIM,C,EAHuC,E,EAC+C,E,eAAM,qBAC/E,eAAG,EAAAe,QAAM,KAE5B,eAEM,MAFN,EAEM,CADJ,eAAsD,I,WAA7B,EAAAA,O,qDAAA,EAAAA,OAAM,IAAGC,QAAS,EAAAA,S,qCAI/C,EAEA,eAOM,MAPN,EAOM,CANJ,eAEM,MAFN,EAEM,C,GADkE,G,eAAM,oBAAiB,eAAG,EAAAC,QAAM,KAExG,eAEM,MAFN,GAEM,CADJ,eAA6E,I,WAApD,EAAAA,O,qDAAA,EAAAA,OAAM,IAAGC,OAAQ,GAAAC,UAAYC,MAAO,GAAAC,c,4CAIjE,GAEA,eAiBM,MAjBN,GAiBM,CAhBJ,eAEM,MAFN,GAEM,C,GADmE,G,eAAM,oBAAiB,eAAG,EAAAC,SAAO,KAE1G,eAYM,MAZN,GAYM,CAXJ,eAUE,I,WATS,EAAAA,Q,uDAAA,EAAAA,QAAO,IACfzB,IAAK,EACLC,IAAK,KACLyB,QAAS,GACTC,YAAa,EACbC,YAAa,GACbzB,UAAU,EACVkB,OAAQ,GAAAQ,oBACRN,MAAO,GAAAO,oB,4CAKd,K,oNCzMF,eAiBE,SAhBAC,IAAI,cACJC,KAAK,OACJC,MAAK,eAAE,EAAAA,OACPpC,MAAK,gB,iBAA4B,W,MAAuB,e,SAA8B,YAMtFhB,MAAO,EAAAqD,aACRC,SAAA,GACAC,gBAAgB,QACf,YAAS,8CAAO,EAAAC,kBAAA,EAAAA,iBAAA,qBAAgB,WAChC,aAAU,8CAAe,EAAAC,mBAAA,EAAAA,kBAAA,qBAAiB,qBAC1C,QAAK,8BAAE,EAAAC,kBAAA,EAAAA,iBAAA,qBACP,OAAI,8BAAE,EAAAC,iBAAA,EAAAA,gBAAA,sB,YAET,eAcE,SAbAT,IAAI,cACJC,KAAK,OACJC,MAAK,eAAE,EAAAA,OACPpC,MAAK,gB,gBAA4B,U,MAAsB,e,UAA+B,YAMtFhB,MAAO,EAAAqD,aACP,QAAK,8BAAE,EAAAO,kBAAA,EAAAA,iBAAA,qBACP,OAAI,8BAAE,EAAAC,iBAAA,EAAAA,gBAAA,qBACN,QAAK,8BAAE,EAAAC,cAAA,EAAAA,aAAA,sB,kCC9BNC,I,qGAAO,cAEN,SAASC,KAA0B,2BAANC,EAAM,yBAANA,EAAM,gBACxC,IAAKC,EAAoCD,EAAzC,GAAaE,EAA4BF,EAAzC,GAAoBG,EAAqBH,EAAzC,GAA8B3B,EAAW2B,EAAzC,GAEA,IAAKC,EAAQ,OAAOH,GAEpB,IAAIM,EAAUN,GAERO,EAAYC,gBAChB,kBAAMC,eAAMN,MACZ,SAACO,GACCJ,IACKI,IAELA,EAAGC,iBAAiBP,EAAOC,EAAU9B,GAErC+B,EAAU,WACRI,EAAGE,oBAAoBR,EAAOC,EAAU9B,GACxC+B,EAAUN,OAGd,CAAEa,WAAW,EAAMC,MAAO,SAGtBC,EAAO,WACXR,IACAD,KAKF,OAFAU,eAAgBD,GAETA,EDOM,QACbvF,KAAM,gBACNyF,MAAO,CACLC,WAAY,CACV9B,KAAM+B,OACNC,QAAS,GAEXhE,IAAK,CACHgC,KAAM+B,OACNC,SAAU,MAEZ/D,IAAK,CACH+B,KAAM+B,OACNC,QAAS,MAEX3D,KAAM,CACJ2B,KAAM+B,OACNC,QAAS,GAEXzD,UAAW,CACTyB,KAAM+B,OACNC,QAAS,GAEXC,MAAO,CACLjC,KAAM+B,OACNC,QAAS,GAEXrC,YAAa,CACXK,KAAM+B,OACNC,QAAS,GAEXtC,QAAS,CACPM,KAAM+B,OACNC,QAAS,IAEXpC,YAAa,CACXI,KAAM+B,OACNC,QAAS,KAEX1D,SAAU,CACR0B,KAAM+B,OACNC,QAAS,GAEX3C,OAAQ,CACNW,KAAMkC,SACNF,aAASG,GAEX5C,MAAO,CACLS,KAAMkC,SACNF,aAASG,GAEXC,WAAY,CACVpC,KAAMqC,QACNL,SAAS,GAEX9D,SAAU,CACR8B,KAAMqC,QACNL,SAAS,GAEX7D,SAAU,CACR6B,KAAMqC,QACNL,SAAS,GAEXvD,UAAW,CACTuB,KAAMsC,QAERzD,UAAW,CACTmB,KAAMsC,QAERxD,UAAW,CACTkB,KAAMsC,QAER5D,WAAY,CACVsB,KAAMsC,QAER3D,cAAe,CACbqB,KAAMsC,QAER1D,aAAc,CACZoB,KAAMsC,QAERzE,MAAO,CACLmC,KAAMsC,QAERvD,OAAQ,CACNiB,KAAMsC,QAERnD,QAAS,CACPa,KAAMvF,SAGV8H,MAAO,CAAC,aAAc,QAAS,OAAQ,YAAa,UAAW,YAAa,UAAW,qBACvFC,MA5Fa,SA4FPX,EA5FO,GA4FoB,IAAZY,EAAY,EAAlBC,KACPC,EAAQ,eAAS,CACrBC,kBAAcT,EACdjC,kBAAciC,EACdU,eAAe,EACfC,YAAa,KACbC,YAAa,KACbC,cAAc,EACdC,cAAc,EACdC,UAAU,EACVC,UAAU,EACVC,sBAAkBjB,EAClBkB,cAAUlB,EACVmB,YAAQnB,EACRoB,YAAQpB,EACRqB,WAAY,EACZC,YAAY,EACZC,aAAa,EACbC,cAAc,EACdC,SAAS,EACTC,SAAU,KACVC,uBAAwB,KACxBC,cAAe,gBAAS,kBAAOlC,EAAMO,WAAcP,EAAM3D,SAAW,OAAS,YAAe,eAC5F+B,MAAO,gBAAS,WAAM,QAChBA,EAAI,UAAI4B,EAAMpD,iBAAV,QAAuB,GAG/B,OAFAwB,GAAS0C,EAAMiB,SAAW/B,EAAMjD,aAAe,IAAMiD,EAAMjD,aAAe,GAC1EqB,GAAU0C,EAAMiB,QAA+D,GAArD,sBAAc/B,EAAM9C,cAApB,QAA8B4D,EAAMoB,eACvD9D,OAIX,gBAAU,WACR0C,EAAMkB,SAAWG,SAASC,cAAc,QACxCtB,EAAMmB,uBAAyBnB,EAAMkB,SAAS5D,MAAMlB,UAGtDmF,EAAarC,EAAMC,YAEnB,MAA+B,eAAOa,GAA9BkB,EAAR,EAAQA,SAAUV,EAAlB,EAAkBA,SAalB,SAASgB,EAAYC,GACnB,IAAQpG,EAAa6D,EAAb7D,IAAKC,EAAQ4D,EAAR5D,IACb,GAAI4D,EAAM1D,SAAU,CAClB,IAAIkG,EAAQpG,EAAMD,EAClB,GAAc,IAAVqG,EAAa,OAAOrG,EACxB,IAAIsG,EAAMF,EAAMpG,EAAMuG,KAAKC,MAAMxG,EAAMoG,GAAOC,GAAS,EACvDD,GAAQA,EAAMpG,EAAMqG,EAAQC,GAAOD,EAASrG,OAE5CoG,EAAMG,KAAKvG,IAAIuG,KAAKtG,IAAImG,EAAKpG,GAAMC,GAErC,OAAOmG,EAGT,SAASK,EAAiBL,GACxB,IACIM,EADI1G,EAA8B6D,EAA9B7D,IAAUK,GAAoBwD,EAAzB5D,IAAyB4D,EAApBxD,MAAME,EAAcsD,EAAdtD,UAExB6F,EAAMG,KAAKI,OAAOC,WAAWR,GAAOpG,GAAOO,GAAaA,EAAYP,EAEpE,IAAI6G,EAAMtG,EAAY,EAAIgG,KAAKC,MAAMD,KAAKO,MAAMvG,IAAc,EAO9D,OALAmG,EAAOrG,EAAK0G,WAAWC,MAAM,KAAK,GAC9BN,IAAMG,EAAMN,KAAKtG,IAAI4G,EAAKH,EAAKlK,SAEnCkK,EAAO1G,EAAI+G,WAAWC,MAAM,KAAK,GAC7BN,IAAMG,EAAMN,KAAKtG,IAAI4G,EAAKH,EAAKlK,SAC5BoK,WAAWR,EAAIa,QAAQJ,IAGhC,SAASX,EAAaE,GACpB,IAAQpG,EAAgD6D,EAAhD7D,IAAUK,GAAsCwD,EAA3C5D,IAA2C4D,EAAtCxD,MAAiBgB,GAAqBwC,EAAhCtD,UAAgCsD,EAArBxC,QAAQf,EAAauD,EAAbvD,SAC3CqE,EAAMC,aAAegC,WAAWR,GAChCzB,EAAMC,aAAeuB,EAAYxB,EAAMC,cACvCD,EAAMzC,aAAeqE,KAAKI,OAAOhC,EAAMC,aAAe5E,GAAOK,GAAQA,EAAOL,EAE1E2E,EAAMzC,aADJb,EACmBA,EAAOsD,EAAMzC,cAEbyC,EAAMzC,aAAa+E,QAAQ3G,GAElD,IAAIzB,EAAQ4H,EAAiB9B,EAAMC,cAGnCH,EAAS,oBAAqBmC,WAAW/H,IA5FZ,SA+FhBqI,IA/FgB,8FA+F/B,8GACQ,iBADR,OAEMlB,SAASmB,eAAiBxC,EAAMI,aAAeiB,SAASmB,eAAiBxC,EAAMG,YAC5EH,EAAMO,WACTP,EAAMO,UAAW,EACjBT,EAAS,UAIPE,EAAMO,WACRP,EAAMO,UAAW,EACjBT,EAAS,SAXf,2CA/F+B,iCAgHhB2C,IAhHgB,8FAgH/B,qGACEzC,EAAMiB,SAAU,EADlB,SAIQ,iBAJR,OAMEjB,EAAMG,YAAYuC,QAClB1C,EAAMG,YAAYwC,SAElB7C,EAAS,aATX,2CAhH+B,wBA4H/B,SAAS8C,IACH5C,EAAMiB,UACRjB,EAAMiB,SAAU,EAqBhBnB,EAAS,YAIb,SAAS+C,EAAUC,GAAU,MACnBpH,EAAgBwD,EAAhBxD,KAAM4D,EAAUJ,EAAVI,MACdU,EAAMC,aAAN,UAAqBD,EAAMC,oBAA3B,QAA2CgC,WAAWjC,EAAMzC,cAC5DyC,EAAMC,cAAgB6C,EAAWpH,EAAO4D,EACxCiC,EAAavB,EAAMC,cAGrB,SAAS8C,EAAWC,GAAW,MAC7BhD,EAAMC,aAAN,UAAqBD,EAAMC,oBAA3B,QAA2CgC,WAAWjC,EAAMzC,cAC5DyC,EAAMC,cAAgB+C,EACtBzB,EAAavB,EAAMC,cAGrB,SAASvC,EAAiBuF,GACxBjD,EAAMS,iBAAmBY,SAASmB,gBAAkBxC,EAAMI,YAE1DJ,EAAMQ,UAAW,EACjBR,EAAMI,YAAYsC,QAElB1C,EAAMU,UAAW,EACjBV,EAAMW,OAASX,EAAME,cAAgB+C,EAAGC,QAAQ,GAAGC,QAAUF,EAAGE,QAChEnD,EAAMY,OAASZ,EAAME,cAAgB+C,EAAGC,QAAQ,GAAGE,QAAUH,EAAGG,QAEhEpD,EAAMQ,UAAW,EAEjBe,EAAarC,EAAMC,YAGrB,SAASkE,EAAgBJ,GACvB,IAAQxD,EAAyBP,EAAzBO,WAAYlE,EAAa2D,EAAb3D,SAIhB+H,EAAOtD,EAAME,cAAgB+C,EAAGC,QAAQ,GAAGC,QAAUF,EAAGE,QACxDI,EAAOvD,EAAME,cAAgB+C,EAAGC,QAAQ,GAAGE,QAAUH,EAAGG,QACxDI,EAAQ/D,IAAe6D,EAAOtD,EAAMW,QAAU,EAC9C8C,EAAQlI,IAAagI,EAAOvD,EAAMY,QAAU,EAC5C8C,EAAU9B,KAAK+B,IAAIH,GAAS5B,KAAK+B,IAAIF,GAASD,EAAQC,EAE3C,GAAXC,GAAiB1D,EAAMU,WACzBV,EAAMU,UAAW,EACjBZ,EAAS,cAEX+C,EAAUa,EAAU1D,EAAMa,YAC1Bb,EAAMW,OAAS2C,EACftD,EAAMY,OAAS2C,EAIjB,SAASK,EAAeX,GAGlBjD,EAAMQ,UAAYR,EAAMU,UAC1BZ,EAAS,WAGXE,EAAMQ,UAAW,EAGbR,EAAMS,mBAAqBT,EAAMU,UACnC+B,IAIJ,SAAS7E,EAAiBqF,GAGxBjD,EAAMK,cAAe,EACrBkC,IAEF,SAAS1E,EAAgBoF,GAGvBjD,EAAMK,cAAe,EACrBkC,IAEF,SAASzE,EAAiBmF,GAGxBjD,EAAMM,cAAe,EACrBiC,IAEF,SAASxE,EAAgBkF,GAGvBjD,EAAMM,cAAe,EACrBiC,IACAK,IAGF,SAASiB,EAAeZ,GAClBA,EAAG7E,SAAW4B,EAAMI,aAAe6C,EAAG7E,SAAW4B,EAAMG,aACzDL,EAAS,aAAcmD,EAAG5F,MAKd,SAAV4F,EAAGzI,KACLyI,EAAGa,iBAGS,SAAVb,EAAGzI,MACLwF,EAAMgB,cAAe,GAET,OAAViC,EAAGzI,MACLwF,EAAMc,YAAa,GAIvB,SAASiD,EAAad,GAapB,GAZIA,EAAG7E,SAAW4B,EAAMI,aAAe6C,EAAG7E,SAAW4B,EAAMG,aACzDL,EAAS,aAAcmD,EAAG5F,MAId,SAAV4F,EAAGzI,MACLwF,EAAMgB,cAAe,GAET,OAAViC,EAAGzI,MACLwF,EAAMc,YAAa,GAGjBd,EAAMK,eAAiBL,EAAMiB,QAAS,CACxC,IAAI+B,EAAY9D,EAAMnC,QAClBiD,EAAMa,WAAa,IAAGmC,EAAY9D,EAAMlC,aACxCgD,EAAMa,WAAa,IAAGmC,EAAY9D,EAAMjC,aAC9B,WAAVgG,EAAGzI,KAA8B,cAAVyI,EAAGzI,KAC5BuI,EAAWC,GAEC,aAAVC,EAAGzI,KAAgC,aAAVyI,EAAGzI,KAC9BuI,GAAYC,GAEA,SAAVC,EAAGzI,KACLiI,SAEOzC,EAAMM,cAAgBN,EAAMiB,UACvB,SAAVgC,EAAGzI,KAA4B,UAAVyI,EAAGzI,KAC1BoI,KAKN,SAAS5E,EAAaiF,GAGpB,IAAIe,EAAa/B,WAAWjC,EAAMG,YAAYjG,OAE9C,IAAK+J,MAAMD,GAAa,CACtBhE,EAAMC,aAAe+D,EACrBhE,EAAMC,aAAeuB,EAAYxB,EAAMC,cAEvC,IAAI/F,EAAQ4H,EAAiB9B,EAAMC,cACnCH,EAAS,oBAAqBmC,WAAW/H,KAxQ7C,eAAM,CAACgH,EAAUV,IAAW,WAEJ,MADlBR,EAAMkB,WACJlB,EAAMQ,SACRR,EAAMkB,SAAS5D,MAAMlB,OAArB,UAA8B8C,EAAM9C,cAApC,QAA8C4D,EAAMoB,cAGpDpB,EAAMkB,SAAS5D,MAAMlB,OAAS4D,EAAMmB,2BAsQ1C,IAAI+C,EAAoB,SAACjB,GACvB,IAAIkB,EAAUnE,EAAMQ,SAAW6C,OAAkB7D,EACjD,QAAgBA,IAAZ2E,EACJ,OAAOA,EAAQlB,IAEbmB,EAAkB,SAACnB,GACrB,IAAIkB,EAAUnE,EAAMQ,SAAWoD,EAAiB7F,EAChD,QAAgByB,IAAZ2E,EACJ,OAAOA,EAAQlB,IAYjB,OATA/E,GAAiBnD,OAAQ,UAAW8I,GACpC3F,GAAiBnD,OAAQ,QAASgJ,GAElC7F,GAAiBnD,OAAQ,YAAamJ,GACtChG,GAAiBnD,OAAQ,YAAamJ,GAEtChG,GAAiBnD,OAAQ,UAAWqJ,GACpClG,GAAiBnD,OAAQ,WAAYqJ,GAErC,mCACK,eAAOpE,IADZ,IAEEpC,mBACAC,kBACAH,mBACAI,mBACAC,kBACA8F,iBACAE,eACA/F,mB,oCE9cN,MAAMqG,GAA2B,KAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAE1E,UH0MA,IACb5K,KAAM,MACN6K,WAAY,CACVC,kBAEF1E,MALa,WAMX,IAAMG,EAAQ,eAAS,CACrB7E,OAAQ,IACRC,OAAQ,IACRK,OAAQ,KACRI,OAAQ,GACRQ,OAAQ,GACRmI,OAAQ,GACRC,YAAa,GACbC,aAAc,GACdC,gBAAgB,EAChBC,cAAe,GACftI,OAAQ,EACRC,QAAS,IACTC,QAAS,CAAEnB,KAAM,IAAKC,IAAK,IAAKI,KAAM,EAAGqB,QAAS,EAAGE,YAAa,EAAGtB,SAAU,EAAG2D,MAAO,KACzF7C,OAAQ,IACRK,QAAS,MAIX,SAASH,EAAU8E,GACjB,MAAO,KAAOA,EAEhB,SAAS5E,EAAagI,GACpB,OAAOA,EAAIC,QAAQ,IAAK,IAAIC,OAK9B,SAAS7H,EAAoB8H,GAC3B,IAAIC,EAAQrD,KAAKsD,MAAMF,EAAU,IAEjC,OADAA,GAAoB,GACbC,EAAM7C,WAAW+C,SAAS,EAAG,KAAO,IAAMH,EAAQ5C,WAAW+C,SAAS,EAAG,KAGlF,SAAShI,EAAmBiI,GAC1B,IAAIC,EAAMD,EAAW/C,MAAM,KACvB4C,EAAQK,SAASD,EAAI,IACzBJ,EAAQrD,KAAKvG,IAAIuG,KAAKtG,IAAI2J,EAAO,GAAI,IACrC,IAAID,EAAUK,EAAI,GAAKC,SAASD,EAAI,IAAM,EAE1C,OADAL,EAAUpD,KAAKvG,IAAIuG,KAAKtG,IAAI0J,EAAS,GAAI,IAC1B,GAARC,EAAaD,EAGtB,0CAAY,eAAOhF,IAAnB,IAA2BrD,YAAWE,eAAcK,sBAAqBC,yB,UI7P7E,MAAM,GAA2B,KAAgB,GAAQ,CAAC,CAAC,SAASoI,MAErD,UCNfC,eAAUC,IAAKC,MAAM,S,yDCHrB","file":"js/app.3fc9476c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue3-number-spinner/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=22543586&lang=css\"","<template>\n  <main>\n    <h2>Vue 3 Number Spinner Example</h2>\n\n    <p>\n      Change the values of the number spinners through mousedrag and arrow keys. Press <i>Alt</i> for smaller steps, <i>Alt+Shift</i> for\n      larger steps. Click without dragging to edit.\n    </p>\n\n    <hr />\n\n    <div class=\"row\">\n      <div class=\"explanation\">Default: no range limits, step = 1<br />Current value is {{ value1 }}</div>\n      <div class=\"right\">\n        <number-spinner v-model=\"value1\" />\n      </div>\n    </div>\n\n    <hr />\n\n    <div class=\"row\">\n      <div class=\"explanation\">\n        Range: 0 - 360, vertical = true (dragging and arrow keys up/down will also change the value), circular = true <br />\n        Current value is {{ value2 }}\n      </div>\n      <div class=\"right\">\n        <number-spinner v-model=\"value2\" :min=\"0\" :max=\"360\" :vertical=\"true\" :circular=\"true\" />\n      </div>\n    </div>\n\n    <hr />\n\n    <div class=\"row\">\n      <div class=\"explanation\">\n        step = 0.01, decimals = 2, precision = 0.001<br />\n        Current value is {{ value3 }}\n      </div>\n      <div class=\"right\">\n        <number-spinner v-model=\"value3\" :min=\"-5\" :max=\"5\" :step=\"0.01\" :decimals=\"2\" :precision=\"0.001\" />\n      </div>\n    </div>\n\n    <hr />\n\n    <div class=\"row\">\n      <div class=\"explanation\">\n        Individual styling using props.<br />\n        Current value is {{ value4 }}\n      </div>\n      <div class=\"right\">\n        <number-spinner\n          v-model=\"value4\"\n          :step=\"10\"\n          mainStyle=\"color:#aaa; width:80px; border-radius:20px\"\n          focusStyle=\"color:#06f\"\n          draggingStyle=\"border-color:#f00\"\n          editingStyle=\"color:#00f; background-color:#06f4\"\n          fastStyle=\"color:#f00\"\n          slowStyle=\"color:#0c0\"\n          cursor=\"pointer\"\n        />\n      </div>\n    </div>\n\n    <hr />\n\n    <div class=\"row\">\n      <div class=\"explanation\">\n        Individual styling using custom class.<br />\n        Current value is {{ value5 }}\n      </div>\n      <div class=\"right\">\n        <number-spinner v-model=\"value5\" :min=\"0\" :max=\"1\" :step=\"0.001\" :decimals=\"3\" class=\"number-spinner-custom\" />\n      </div>\n    </div>\n\n    <hr />\n    <!--\n    <div class=\"row\">\n      <div class=\"explanation\">\n        Get value through input and change events.<br />\n        Current input value is {{ value6input }}<br />\n        Current change value is {{ value6change }}<br />\n        Edit mode is {{ value6editmode }}. Last key pressed: {{ value6lastkey }}\n      </div>\n      <div class=\"right\">\n        <number-spinner\n          v-model=\"value6\"\n          :min=\"-100\"\n          :max=\"100\"\n          @change=\"\n            (ev) => {\n              value6change = ev.detail\n            }\n          \"\n          @input=\"\n            (ev) => {\n              value6input = ev.detail\n            }\n          \"\n          @keyup=\"\n            (ev) => {\n              value6lastkey = ev.key\n              console.log(ev)\n            }\n          \"\n          @editstart=\"\n            (ev) => {\n              value6editmode = true\n              console.log(ev)\n            }\n          \"\n          @editend=\"\n            (ev) => {\n              value6editmode = false\n              console.log(ev)\n            }\n          \"\n        />\n      </div>\n    </div>\n\n    <hr />\n-->\n\n    <div class=\"row\">\n      <div class=\"explanation\">\n        Test correct updating of the value if changed from outside.<br />\n        Current value is {{ value7 }}<br />\n      </div>\n      <div>\n        <button\n          @click=\"\n            () => {\n              value7--\n            }\n          \"\n        >\n          –\n        </button>\n      </div>\n      <div class=\"right small-margin\">\n        <number-spinner v-model=\"value7\" :min=\"0\" :max=\"12\" :circular=\"true\" />\n      </div>\n      <div>\n        <button\n          @click=\"\n            () => {\n              value7++\n            }\n          \"\n        >\n          +\n        </button>\n      </div>\n    </div>\n\n    <hr />\n\n    <div class=\"row\">\n      <div class=\"explanation\">\n        Giving some of the props by options object.<br />\n        {`{ min: -5.5, max: 5.5, step: 1, keyStep: 1, keyStepFast: 2, decimals: 1, speed: 0.04 }`}<br />\n        Current value is {{ value8 }}\n      </div>\n      <div class=\"right\">\n        <number-spinner v-model=\"value8\" :options=\"options\" />\n      </div>\n    </div>\n\n    <hr />\n\n    <div class=\"row\">\n      <div class=\"explanation\">\n        Using callbacks to format and parse the displayed value as a currency.<br />Current value is {{ value9 }}\n      </div>\n      <div class=\"right\">\n        <number-spinner v-model=\"value9\" :format=\"addDollar\" :parse=\"removeDollar\" />\n      </div>\n    </div>\n\n    <hr />\n\n    <div class=\"row\">\n      <div class=\"explanation\">\n        Using callbacks to format and parse the displayed value as time of day.<br />Current value is {{ value10 }}\n      </div>\n      <div class=\"right\">\n        <number-spinner\n          v-model=\"value10\"\n          :min=\"0\"\n          :max=\"1440\"\n          :keyStep=\"15\"\n          :keyStepSlow=\"1\"\n          :keyStepFast=\"60\"\n          :circular=\"true\"\n          :format=\"formatMinutesToTime\"\n          :parse=\"parseTimeToMinutes\"\n        />\n      </div>\n    </div>\n\n    <hr />\n  </main>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\n\nimport { NumberSpinner } from '../../src/main'\n\nexport default {\n  name: 'App',\n  components: {\n    NumberSpinner,\n  },\n  setup() {\n    const state = reactive({\n      value1: 100,\n      value2: 500,\n      value3: 3.28,\n      value4: 0.5,\n      value5: 0.5,\n      value6: 50,\n      value6input: 50,\n      value6change: 50,\n      value6editmode: false,\n      value6lastkey: '',\n      value7: 0,\n      value8: -2.5,\n      options: { min: -5.5, max: 5.5, step: 1, keyStep: 1, keyStepFast: 2, decimals: 1, speed: 0.04 },\n      value9: 100,\n      value10: 12 * 60,\n    })\n\n    // Callback functions for example 9 ---------------------\n    function addDollar(val) {\n      return '$ ' + val\n    }\n    function removeDollar(str) {\n      return str.replace('$', '').trim()\n    }\n\n    // Callback functions for example 10 ---------------------\n    // Takes the actual value and returns a formatted time string\n    function formatMinutesToTime(minutes) {\n      let hours = Math.floor(minutes / 60)\n      minutes = minutes % 60\n      return hours.toString().padStart(2, '0') + ':' + minutes.toString().padStart(2, '0')\n    }\n    // Parses a time string like \"16:45\" to a number in minutes (result will be 16*60 + 45 = 1005)\n    function parseTimeToMinutes(timeString) {\n      let res = timeString.split(':')\n      let hours = parseInt(res[0])\n      hours = Math.min(Math.max(hours, 0), 23)\n      let minutes = res[1] ? parseInt(res[1]) : 0\n      minutes = Math.min(Math.max(minutes, 0), 59)\n      return hours * 60 + minutes\n    }\n\n    return { ...toRefs(state), addDollar, removeDollar, formatMinutesToTime, parseTimeToMinutes }\n  },\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\nmain {\n  max-width: 600px;\n}\n\nhr {\n  margin: 20px 0px;\n}\n\ndiv {\n  display: flex;\n}\ndiv.row {\n  justify-content: space-between;\n  align-items: center;\n}\ndiv.explanation {\n  flex-grow: 6;\n}\ndiv.right {\n  margin: 0px 40px;\n}\ndiv.small-margin {\n  margin: 0px 10px;\n}\n\nbutton {\n  margin: 5px;\n  height: 1.6em;\n  padding: 0 0.4em;\n}\n</style>\n","<template>\n  <input\n    ref=\"dragElement\"\n    type=\"text\"\n    :style=\"style\"\n    :class=\"{\n      drag: true,\n      dragging,\n      focus: dragFocussed,\n      inactive: editing,\n    }\"\n    :value=\"visibleValue\"\n    readonly\n    contenteditable=\"false\"\n    @mousedown.stop=\"dragstartHandler\"\n    @touchstart.stop.prevent=\"touchstartHandler\"\n    @focus=\"dragFocusHandler\"\n    @blur=\"dragBlurHandler\"\n  />\n  <input\n    ref=\"editElement\"\n    type=\"text\"\n    :style=\"style\"\n    :class=\"{\n      edit: true,\n      editing,\n      focus: editFocussed,\n      inactive: !editing,\n    }\"\n    :value=\"visibleValue\"\n    @focus=\"editFocusHandler\"\n    @blur=\"editBlurHandler\"\n    @input=\"inputHandler\"\n  />\n</template>\n\n<script>\nimport { computed, nextTick as tick, onMounted, reactive, toRefs, watch } from 'vue'\n\nimport { useEventListener } from '../composables/useEventListener'\n\nexport default {\n  name: 'NumberSpinner',\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0,\n    },\n    min: {\n      type: Number,\n      default: -1e12,\n    },\n    max: {\n      type: Number,\n      default: +1e12,\n    },\n    step: {\n      type: Number,\n      default: 1,\n    },\n    precision: {\n      type: Number,\n      default: 1,\n    },\n    speed: {\n      type: Number,\n      default: 1,\n    },\n    keyStepSlow: {\n      type: Number,\n      default: 1,\n    },\n    keyStep: {\n      type: Number,\n      default: 10,\n    },\n    keyStepFast: {\n      type: Number,\n      default: 100,\n    },\n    decimals: {\n      type: Number,\n      default: 0,\n    },\n    format: {\n      type: Function,\n      default: undefined,\n    },\n    parse: {\n      type: Function,\n      default: undefined,\n    },\n    horizontal: {\n      type: Boolean,\n      default: true,\n    },\n    vertical: {\n      type: Boolean,\n      default: false,\n    },\n    circular: {\n      type: Boolean,\n      default: false,\n    },\n    mainStyle: {\n      type: String,\n    },\n    fastStyle: {\n      type: String,\n    },\n    slowStyle: {\n      type: String,\n    },\n    focusStyle: {\n      type: String,\n    },\n    draggingStyle: {\n      type: String,\n    },\n    editingStyle: {\n      type: String,\n    },\n    class: {\n      type: String,\n    },\n    cursor: {\n      type: String,\n    },\n    options: {\n      type: Object,\n    },\n  },\n  emits: ['consoleLog', 'focus', 'blur', 'dragstart', 'dragend', 'editstart', 'editend', 'update:modelValue'],\n  setup(props, { emit: dispatch }) {\n    const state = reactive({\n      preciseValue: undefined,\n      visibleValue: undefined,\n      isTouchDevice: false,\n      editElement: null,\n      dragElement: null,\n      dragFocussed: false,\n      editFocussed: false,\n      focussed: false,\n      dragging: false,\n      wasActiveOnClick: undefined,\n      hasMoved: undefined,\n      clickX: undefined,\n      clickY: undefined,\n      stepFactor: 1,\n      altPressed: false,\n      ctrlPressed: false,\n      shiftPressed: false,\n      editing: false,\n      htmlNode: null,\n      htmlNodeOriginalCursor: null,\n      defaultCursor: computed(() => (props.horizontal ? (props.vertical ? 'move' : 'ew-resize') : 'ns-resize')),\n      style: computed(() => {\n        let style = props.mainStyle ?? ''\n        style += state.editing && props.editingStyle ? ';' + props.editingStyle : ''\n        style += !state.editing ? ';cursor:' + (props.cursor ?? state.defaultCursor) : ''\n        return style\n      }),\n    })\n\n    onMounted(() => {\n      state.htmlNode = document.querySelector('html')\n      state.htmlNodeOriginalCursor = state.htmlNode.style.cursor\n    })\n\n    updateValues(props.modelValue)\n\n    const { htmlNode, dragging } = toRefs(state)\n    watch([htmlNode, dragging], () => {\n      if (state.htmlNode) {\n        if (state.dragging) {\n          state.htmlNode.style.cursor = props.cursor ?? state.defaultCursor\n          // addClass(htmlNode, cursorClass);\n        } else {\n          state.htmlNode.style.cursor = state.htmlNodeOriginalCursor\n          // removeClass(htmlNode, cursorClass);\n        }\n      }\n    })\n\n    function keepInRange(val) {\n      const { min, max } = props\n      if (props.circular) {\n        let range = max - min\n        if (range === 0) return min\n        let fac = val < min ? Math.ceil((min - val) / range) : 0\n        val = ((val - min + range * fac) % range) + min\n      } else {\n        val = Math.min(Math.max(val, min), max)\n      }\n      return val\n    }\n\n    function roundToPrecision(val) {\n      const { min, max, step, precision } = props\n      let frac\n      val = Math.round((parseFloat(val) - min) / precision) * precision + min\n      // number of decimals comes either from the precision prop ...\n      let dec = precision < 1 ? Math.ceil(-Math.log10(precision)) : 0\n      // ... or from the number of decimals of the step value\n      frac = step.toString().split('.')[1]\n      if (frac) dec = Math.max(dec, frac.length)\n      // ... or from the number of decimals of the min value\n      frac = min.toString().split('.')[1]\n      if (frac) dec = Math.max(dec, frac.length)\n      return parseFloat(val.toFixed(dec))\n    }\n\n    function updateValues(val) {\n      const { min, max, step, precision, format, decimals } = props\n      state.preciseValue = parseFloat(val)\n      state.preciseValue = keepInRange(state.preciseValue)\n      state.visibleValue = Math.round((state.preciseValue - min) / step) * step + min\n      if (format) {\n        state.visibleValue = format(state.visibleValue)\n      } else {\n        state.visibleValue = state.visibleValue.toFixed(decimals)\n      }\n      let value = roundToPrecision(state.preciseValue)\n      //dispatch('input', parseFloat(value))\n      //dispatch('change', parseFloat(value))\n      dispatch('update:modelValue', parseFloat(value))\n    }\n\n    async function updateFocussed() {\n      await tick()\n      if (document.activeElement == state.dragElement || document.activeElement == state.editElement) {\n        if (!state.focussed) {\n          state.focussed = true\n          dispatch('focus')\n          // console.log(\"Focus\");\n        }\n      } else {\n        if (state.focussed) {\n          state.focussed = false\n          dispatch('blur')\n          // console.log(\"Blur\");\n        }\n      }\n    }\n\n    async function startEditing() {\n      state.editing = true\n      //preciseValue = parseFloat(visibleValue);\n\n      await tick()\n\n      state.editElement.focus()\n      state.editElement.select()\n\n      dispatch('editstart')\n    }\n\n    function stopEditing() {\n      if (state.editing) {\n        state.editing = false\n\n        /*\n        if (parse) {\n          preciseValue = parse(visibleValue)\n          updateValues(preciseValue)\n        } else {\n          let checkValue = parseFloat(editElement.value)\n          if (!isNaN(checkValue)) {\n            preciseValue = parseFloat(visibleValue)\n            updateValues(preciseValue)\n          }\n        }\n        // Bring focus back to the drag element if editElement was focussed:\n        if (document.activeElement === editElement) {\n          setTimeout(() => {\n            dragElement.focus()\n          }, 0)\n        }\n        */\n\n        dispatch('editend')\n      }\n    }\n\n    function stepValue(numSteps) {\n      const { step, speed } = props\n      state.preciseValue = state.preciseValue ?? parseFloat(state.visibleValue)\n      state.preciseValue += numSteps * step * speed\n      updateValues(state.preciseValue)\n    }\n\n    function addToValue(increment) {\n      state.preciseValue = state.preciseValue ?? parseFloat(state.visibleValue)\n      state.preciseValue += increment\n      updateValues(state.preciseValue)\n    }\n\n    function dragstartHandler(ev) {\n      state.wasActiveOnClick = document.activeElement === state.dragElement\n\n      state.dragging = true\n      state.dragElement.focus()\n\n      state.hasMoved = false\n      state.clickX = state.isTouchDevice ? ev.touches[0].clientX : ev.clientX\n      state.clickY = state.isTouchDevice ? ev.touches[0].clientY : ev.clientY\n\n      state.dragging = true\n\n      updateValues(props.modelValue)\n    }\n\n    function dragmoveHandler(ev) {\n      const { horizontal, vertical } = props\n\n      // dispatch('consoleLog', ev.type);\n      // ev.preventDefault();\n      let actX = state.isTouchDevice ? ev.touches[0].clientX : ev.clientX\n      let actY = state.isTouchDevice ? ev.touches[0].clientY : ev.clientY\n      let distX = horizontal ? +(actX - state.clickX) : 0\n      let distY = vertical ? -(actY - state.clickY) : 0\n      let stepNum = Math.abs(distX) > Math.abs(distY) ? distX : distY\n      // fire dragstart before value changes\n      if (stepNum != 0 && !state.hasMoved) {\n        state.hasMoved = true\n        dispatch('dragstart')\n      }\n      stepValue(stepNum * state.stepFactor)\n      state.clickX = actX\n      state.clickY = actY\n      // hasMoved++;\n    }\n\n    function mouseupHandler(ev) {\n      //dispatch('consoleLog', ev.type)\n\n      if (state.dragging && state.hasMoved) {\n        dispatch('dragend')\n      }\n\n      state.dragging = false\n\n      // start editing only if element was already focussed on mousedown and no dragging was done\n      if (state.wasActiveOnClick && !state.hasMoved) {\n        startEditing()\n      }\n    }\n\n    function dragFocusHandler(ev) {\n      //dispatch('consoleLog', ev.type)\n\n      state.dragFocussed = true\n      updateFocussed()\n    }\n    function dragBlurHandler(ev) {\n      //dispatch('consoleLog', ev.type)\n\n      state.dragFocussed = false\n      updateFocussed()\n    }\n    function editFocusHandler(ev) {\n      //dispatch('consoleLog', ev.type)\n\n      state.editFocussed = true\n      updateFocussed()\n    }\n    function editBlurHandler(ev) {\n      //dispatch('consoleLog', ev.type)\n\n      state.editFocussed = false\n      updateFocussed()\n      stopEditing()\n    }\n\n    function keydownHandler(ev) {\n      if (ev.target === state.dragElement || ev.target === state.editElement) {\n        dispatch('consoleLog', ev.type)\n        // console.log(\"keydownHandler\", ev)\n      }\n\n      // prevent submitting if the number spinner is inside a form element\n      if (ev.key == 'Enter') {\n        ev.preventDefault()\n      }\n\n      if (ev.key == 'Shift') {\n        state.shiftPressed = true\n      }\n      if (ev.key == 'Alt') {\n        state.altPressed = true\n      }\n    }\n\n    function keyupHandler(ev) {\n      if (ev.target === state.dragElement || ev.target === state.editElement) {\n        dispatch('consoleLog', ev.type)\n        // console.log('keyupHandler', ev)\n      }\n\n      if (ev.key == 'Shift') {\n        state.shiftPressed = false\n      }\n      if (ev.key == 'Alt') {\n        state.altPressed = false\n      }\n\n      if (state.dragFocussed && !state.editing) {\n        let increment = props.keyStep\n        if (state.stepFactor < 1) increment = props.keyStepSlow\n        if (state.stepFactor > 1) increment = props.keyStepFast\n        if (ev.key == 'ArrowUp' || ev.key == 'ArrowRight') {\n          addToValue(increment)\n        }\n        if (ev.key == 'ArrowDown' || ev.key == 'ArrowLeft') {\n          addToValue(-increment)\n        }\n        if (ev.key == 'Enter') {\n          startEditing()\n        }\n      } else if (state.editFocussed && state.editing) {\n        if (ev.key == 'Enter' || ev.key == 'Escape') {\n          stopEditing()\n        }\n      }\n    }\n\n    function inputHandler(ev) {\n      // dispatch(\"consoleLog\", ev.type)\n\n      let checkValue = parseFloat(state.editElement.value)\n\n      if (!isNaN(checkValue)) {\n        state.preciseValue = checkValue\n        state.preciseValue = keepInRange(state.preciseValue)\n\n        let value = roundToPrecision(state.preciseValue)\n        dispatch('update:modelValue', parseFloat(value))\n      }\n    }\n\n    let onWindowMouseMove = (ev) => {\n      let handler = state.dragging ? dragmoveHandler : undefined\n      if (handler === undefined) return\n      return handler(ev)\n    }\n    let onWindowMouseUp = (ev) => {\n      let handler = state.dragging ? mouseupHandler : editBlurHandler\n      if (handler === undefined) return\n      return handler(ev)\n    }\n\n    useEventListener(window, 'keydown', keydownHandler)\n    useEventListener(window, 'keyup', keyupHandler)\n\n    useEventListener(window, 'mousemove', onWindowMouseMove)\n    useEventListener(window, 'touchmove', onWindowMouseMove)\n\n    useEventListener(window, 'mouseup', onWindowMouseUp)\n    useEventListener(window, 'touchend', onWindowMouseUp)\n\n    return {\n      ...toRefs(state),\n      dragFocusHandler,\n      dragBlurHandler,\n      dragstartHandler,\n      editFocusHandler,\n      editBlurHandler,\n      keydownHandler,\n      keyupHandler,\n      inputHandler,\n    }\n  },\n}\n</script>\n\n<style scoped>\n.drag {\n  user-select: none;\n}\n\n.drag::selection {\n  /* remove text selection background in non-editing mode */\n  background: transparent;\n}\n\n.inactive {\n  display: none !important;\n}\n</style>\n","import { unref, watch, onBeforeUnmount } from 'vue'\n\nconst noop = () => {}\n\nexport function useEventListener(...args) {\n  let [target, event, listener, options] = args\n\n  if (!target) return noop\n\n  let cleanup = noop\n\n  const stopWatch = watch(\n    () => unref(target),\n    (el) => {\n      cleanup()\n      if (!el) return\n\n      el.addEventListener(event, listener, options)\n\n      cleanup = () => {\n        el.removeEventListener(event, listener, options)\n        cleanup = noop\n      }\n    },\n    { immediate: true, flush: 'post' },\n  )\n\n  const stop = () => {\n    stopWatch()\n    cleanup()\n  }\n\n  onBeforeUnmount(stop)\n\n  return stop\n}\n","import { render } from \"./NumberSpinner.vue?vue&type=template&id=47b1833a&scoped=true\"\nimport script from \"./NumberSpinner.vue?vue&type=script&lang=js\"\nexport * from \"./NumberSpinner.vue?vue&type=script&lang=js\"\n\nimport \"./NumberSpinner.vue?vue&type=style&index=0&id=47b1833a&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Projects\\\\vue3-number-spinner\\\\example\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-47b1833a\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=22543586\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=22543586&lang=css\"\n\nimport exportComponent from \"C:\\\\Projects\\\\vue3-number-spinner\\\\example\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","export * from \"-!../../example/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../example/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../example/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../example/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../example/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../example/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./NumberSpinner.vue?vue&type=style&index=0&id=47b1833a&scoped=true&lang=css\""],"sourceRoot":""}